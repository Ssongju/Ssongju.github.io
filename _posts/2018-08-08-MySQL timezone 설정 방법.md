---
layout: post
title: MySQL time zone 설정
date: 2018-08-08 11:04:00
tag: [Mysql, timezone, windows, 토비의 스프링 3.1 vol1 스프링 이해와 원리,JDBC]
---

토비의 스프링 3.1 vol1 스프링 이해와 원리 공부를 시작하였다. 1.1장의 초난감DAO 코드를 실습하던중, DB 연동에서 Time zone !@#!@# 하는 에러가 떴다.(JDBC로 DB를 연동하는 과정에서)
문제는 DB를 연동함에 있어서 시간이 달라서 생기는 문제였다 -> 댓글로 정확한 이유를 남겨주세요!

해결법은 MySQL의 시간을 Asia/Seoul(KST) 시간으로 설정해주면 된다.

여기서 도달한 나의 문제점은 리눅스 환경에서의 해결책은 많은데 윈도우 환경에서 해결책은 포스팅이 적은것이였다.

꾸역꾸역 찾아서 해결을 했고, 어느 부분에서 내가 헤맸는지를 적어보겠다.

헤맨점 1. my.ini, Data/mysql의 파일 위치
C:\Program Files\MySQLMySQL Server x.x에 있을 줄 알았으나 아니였다.
C:\ProgramData\MySQL\MySQL Server x.x 위치에 있었다.
참고로 ProgramData디렉토리는 숨김파일로 되어있다.

헤맨점2. MySQL 버전별로 해결방법이 다르다.
https://dev.mysql.com/downloads/timezones.html
공식 사이트에도 명시가 되어있듯이, **5.6 버전 이하**로는 파일을 다운받아 압축을 풀어서, Data\mysql\에 압축을 푼 파일들을 넣어야 한다고 한다. 버전 안맞으면 실행이 안된다.(제가 할때는 그랬습니다. 확장자명은 .MYD, .frm등 처음보는 것들인데, 이 확장자들이 실제 mysql에서 사용되는 거라나...)

나의 환경에서는 Mysql 8.0 버전을 사용하였기에 위에 방법으로 안되었고, 해당 링크에 5.7 이상(?)의 사용자들에게는 .sql파일을 제공하였다.

헤맨점3. 다운받은 .sql파일은 mysql 데이터베이스에서 실행해야 한다.
내가 예제로 사용한 데이터베이스가 아닌, mysql 데이터베이스에서 다운받은 sql파일을 실행해야 하는데, 그 이유는 아마 데이터베이스 전체에 적용해야 되서 그런게 아닐까 싶다.(예제 데이터베이스에선 timezone 테이블이 존재하지 않는다고 뜬다.)


